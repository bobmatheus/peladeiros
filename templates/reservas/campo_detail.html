<!-- templates/reservas/campo_detail.html -->
{% extends 'base.html' %}
{% block content %}
<div class="row g-4">
  <div class="col-lg-7">
    <h1 class="h3 mb-2">{{ campo.nome }}</h1>
    <div class="text-muted mb-3">{{ campo.endereco }} Â· {{ campo.bairro }} Â· {{ campo.cidade }}</div>
    <img src="{{ campo.capa or '/static/img/campo_default.jpg' }}" class="img-fluid rounded mb-3" alt="Campo">

    <h2 class="h5">Selecione data e duraÃ§Ã£o</h2>
    <form id="form-disp" class="row g-2">
      <input type="hidden" name="campo_id" value="{{ campo.id }}">
      <div class="col-6 col-md-4">
        <label class="form-label">Data</label>
        <input type="date" name="data" class="form-control"
          hx-get="{% url 'reservas:hx_disponibilidade' %}"
          hx-trigger="change, keyup changed delay:300ms"
          hx-target="#slots"
          hx-include="#form-disp">
      </div>
      <div class="col-6 col-md-4">
        <label class="form-label">DuraÃ§Ã£o (min)</label>
        <select name="duracao_min" class="form-select"
          hx-get="{% url 'reservas:hx_disponibilidade' %}"
          hx-trigger="change"
          hx-target="#slots"
          hx-include="#form-disp">
          <option value="60">60</option>
          <option value="90">90</option>
          <option value="120">120</option>
        </select>
      </div>
      <div class="col-12 col-md-4">
        <label class="form-label">HorÃ¡rio (opcional)</label>
        <input type="time" name="horario" class="form-control"
          hx-get="{% url 'reservas:hx_disponibilidade' %}"
          hx-trigger="change"
          hx-target="#slots"
          hx-include="#form-disp">
      </div>
    </form>

    <div id="slots" class="mt-3">
      <div class="text-muted">Escolha uma data para ver os horÃ¡rios disponÃ­veis.</div>
    </div>

    <div class="mt-4">
      <h3 class="h6">Regras da casa</h3>
      <ul class="small text-muted">
        <li>Chegue 10 min antes</li>
        <li>Fair play sempre ðŸ˜‰</li>
        <li>Evite atrasos, respeite a prÃ³xima turma</li>
      </ul>
    </div>
  </div>

  <div class="col-lg-5">
    <div class="border rounded p-3">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <span class="fw-bold">R$ {{ campo.preco_hora }} / hora</span>
        <span class="badge bg-success">DisponÃ­vel</span>
      </div>
      <p class="small text-muted mb-0">{{ campo.descricao }}</p>
    </div>
  </div>
</div>
{% endblock %}